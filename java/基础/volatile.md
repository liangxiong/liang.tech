# volatile

- 标记一个变量 ”应当存储在主存“, 做到变量可见性
  - 每次都从主存读取，不是从CPU缓存读取
  - 每次都从写到主存中，而不是写到CPU缓存

- 场景使用：
  - 单线程写变量，多个线程同时读一个共享变量，使用 volatile 保证读到最新边量
  - 多个线程同时读写一个共享变量，使用 synchronized 保证原子性

- 性能考量
  - 从主存读取 比 cpu 缓存读取更昂贵 ？ 数量级？
  - 会禁止指令重排，减少了：指令重排提升性能的可能
