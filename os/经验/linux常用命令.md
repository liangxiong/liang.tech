# linux常用命令

## shell
- 解决输入sudo 密码问题：
  - echo "password" |sudo -S ls

- 文件：
  - 文件名后缀：${file##*.}
  - 文件名前缀：${file%.*}

- 注释：
   - 单行：#
   - 多行
```
:<<END

第一行批注
第二行批注

END
```

- 大段文本：
```
(
cat <<EOF
string1
string2
EOF
) > /tmp/a

```



- 使用函数 echo "返回值"
  - str=$(get_pre_send_mail_date)   调用函数返回
  - $? 函数return int

- shell内置变量
  - $# 取出位置参数个数
  - $*   取出所有位置参数内容
  - $?  判断上一次命令执行结果是否正确，0代表正确，非0则不代表不正确
  - $$  当前进程进程号
  - $!  后台运行的最后一进程号
  - $0  取出脚本名子
  - $1、$2、$3……位置参数
    - 脚本位置参数个数如果超过9要用{}括起来，如${10}
  - $_  保存之前执行的命令的最后一个参数

- 判断参数：
  -b 当文件存在并且是块文件时返回真
  -c 当文件存在并且是字符文件时返回真
  -d 当目录存在时返回真
  -e 当文件或目录存在时返回真
  -f 当文件存在并且是正规文件(不是目录或者设备文件)时返回真
  -g 当文件或目录存在并且设置了SGID位时返回为真
  -h 当文件存在并且是符号链接文件时返回真，该选项在一些老系统上无效
  -k 当文件或目录存在并且设置了“粘滞”位时返回真
  -L 当文件是个符号链接返回真
  -N 当从文件最后被阅读到现在被修改过时返回真
  -O 当文件或目录存在并且被子当前进程的有效用户ID所指定的用户拥有时返回真。
  -p 当文件存在并且是命令管道时返回为真
  -r 当文件或目录存在并且可读时返回为真
  -s 当文件大小大于0时返回真
  -S 当文件是个socket时返回真
  -t 关联到一个终端设备的文件描述符这个选项一般都用来检测是否在一个给定脚本中的 stdin[-t0]或[-t1]是一个终   端
  -u 当文件或目录存在并且设置了SUID位时返回真
  -w 当文件或目录存在并且可写时返回真。
  -x 当文件或目录存在并且可执行时返回真。一个目录为了它的内容被访问必然是可执行的。
  -z  变量是空串时返回真
  -n  变量是非空串时返回真

- 比较字符写法：
  -eq 等于
  -ne 不等于
  -gt 大于
  -lt 小于
  -le 小于等于
  -ge 大于等于
  == 两个字符相等
  != 两个字符不等


- 控制台输入输出：
  - read 由标准输入读取一行数据
```
echo "请输入你的名字"
read yname
echo "你的名字是：$yname"
```

## 网络
- iptables
  - 保存：iptables-save >/etc/sysconfig/iptables
  - 启用：iptables-restore /etc/sysconfig/iptables
  - 编辑：vim /etc/sysconfig/iptables
