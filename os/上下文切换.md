# 上下文切换

- 上下文切换的过程：
  - 因为cpu出现了多任务处理
  - 来回切换任务时，需要记录这些程序执行到哪里
  - CPU记录并恢复各种正在运行程序的状态，使它能够完成切换操作

- 记录的信息：
  - 上下文切换过程中的“页码”信息是保存在进程控制块（PCB）中
  - PCB还经常被称作“切换桢”（switchframe）
  - “页码”信息会一直保存到CPU的内存中，直到他们被再次使用。


## 什么情况会发生
- 中断处理
  - 其他程序 ”打断” 了当前正在运行的程序
  - 当CPU接收到中断请求时，会在正在运行的程序和发起中断请求的程序之间进行一次上下文切换

- 多任务处理
  - CPU在两个时间片的间隔中进行上下文切换

- 用户态切换
  - 用户空间 和 内核空间
