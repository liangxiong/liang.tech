# 代码规约
- [明细目录](https://github.com/liangxiong/liang.tech/blob/master/java/books/java_development_manual/detail/index.md)
## what
- 是对程序美的定义：不羁的外表下，骨子里追求着代码的美，系统的美，设计的美

- 帕金森琐碎定律
  - 团队成员往往会把过多精力话费在一些琐碎的争论上
  - 真正重要的决议反而可以轻松通过


## why
- 车同文，书同文。手册源起，不忘初心，伯牙子期，琴瑟共鸣
- 一个人单干的软件作坊 到 现在跨团队的联合开发越来越常见
- 为了：一致性，可读性，团队沟通效率
  - 不然：频繁的系统重构，心惊胆战的维护
- 为了维护长效的开发秩序
- 意义：
  - 码出高效：标准统一，提升沟通效率和协作效率，促使研发效能的提示
  - 码出质量：防患未来，提升质量意识，降低故障率和维护成本，快速定位问题
  - 码出情怀：追求卓越的工匠精神，打磨精品代码

### 怎么理解规约：
- 不是要消灭创造力

- 代码是给三个群体看
  - 编译器
    - 符合语法
  - 编写者 | 维护者
    - 可读性强

- 一成不变的代码也需要规范
  - 除了：人，需求维度 还有：
  - 时间维度
    - 底层依赖库由于时间会有问题，要重新升级
  - 机器维度
    - 机器过保，迁移，扩容，缩容
  - 框架维度
    - 依赖的框架 升级

- 代码规约不是要符合所有人的习惯，而是要找到最大公约数
  - 舍去小部分的意志，得到大局上的成功


### 如何推动
- 立法透明
  - 制定规约，全程透明与公开
  - 想清楚为什么这样制定，违反了会有什么后果
  - 在左右都可执行时：大胆拍板
  - 要让整个团队都有参与感
  - 要随着时间 和 技术的发展，不断的吸收新特性

- 执法坚定
  - 如何判断是否违反规约
    - 程序来保证，降低规约的遵守成本 如：P3C扫描插件
      - 督促成员遵守
    - 增加人工 CodeReview来保证规约的落地
  - 如何奖惩
    - 对于优秀代码，通过代码秀 或者 代码墙分享出来，引导其他成员学习

- 组织支持
  - 这是成就感不高，脏活累活，而且会面对各种抵触行为
  - 给与负责人相应的考核权限
  - 广泛而有力的宣传和引导
  - 建立良性，有序，分享的长效代码文化


### 三个级别：
- 强制：命令约束
  - 表达协作痛点或故障隐患

- 推荐：语气比较强的提倡
  - 不这么做，也不会产生严重的问题
  - 但团队一致遵守，会使代码结构更清晰，团队协作更高效

- 参考：
  - 无法规则量化的要求，比如：避免出现重复代码，Don't Repeat Yourself
  - 向左右均可，仅提出一种期望，由开发自己把握


### 为了成长
- 弯路是成长的必经之路
  - 弯路的前进大方向和直线的行进方向基本一致
  - 不要南辕北辙

- 知识在个人看来4个区域：
  - 搜集：
    - 看到，听到，疑惑 整理到搜集区
  - 整理：点维度的总结
    - 不断思考，复核并总结，沉淀在整理区
  - 专题
    - 点的知识串成专题是线维度的总结
  - 哲学
    - 面维度的总结

- 技术情怀：
  - 热爱：源动力

  - 卓越：境界
    - 出类拔萃，追求卓越
    - 学会自我驱动，持续进步，追求内心的极致
    - 仰望星空，脚踏实地
